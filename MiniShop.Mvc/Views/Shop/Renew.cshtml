@model IEnumerable<RenewPackageDto>
@{
    ViewData["Title"] = "Renew Page";
}
<html>
<head>
    <meta charset="utf-8">
    <title>商店资料</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/component/pear/css/pear.css" />
</head>
<body>
    <form class="layui-form" asp-controller="Shop" asp-action="Renew" data-ajax="true" data-ajax-method="post" data-ajax-success="onSuccess">
        <div class="mainBox">
            <div class="main-container">
                <div class="main-container">
                    <dl>
                        @foreach (var m in Model)
                        {
                            <dt>@m.Name</dt>
                            <dd>@m.Price</dd>
                        }
                    </dl>
                </div>
            </div>
        </div>
        <div class="bottom">
            <div class="button-container">
                <button type="submit" class="pear-btn pear-btn-primary pear-btn-sm" lay-submit="" lay-filter="">
                    <i class="layui-icon layui-icon-ok"></i>
                    保存
                </button>
                <button type="reset" class="pear-btn pear-btn-sm">
                    <i class="layui-icon layui-icon-refresh"></i>
                    重置
                </button>
            </div>
        </div>
    </form>

    <script src="~/component/layui/layui.js"></script>
    <script src="~/component/pear/pear.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.js"></script>

    <script>
        layui.use(['form', 'jquery'], function () {
            let form = layui.form;
            let $ = layui.jquery;
        });

        var onSuccess = function (result) {
            if (result.success)
            {
                layer.msg(result.msg, { icon: 1, time: 1000 });
            }
            else
            {
                if (result.status == 500)
                {
                    parent.layer.close(parent.layer.getFrameIndex(window.name));
					parent.layer.open({
						type: 2,
						title: '',
						shade: 0.1,
                        area: ['900px', '600px'],
						content: '/Error/Error500'
                    });
                }
                else
                {
                    layer.msg(result.msg, { icon: 2, time: 3000 });
                }
            }
        };
    </script>

</body>
</html>
